{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["\n\n\nlet formData = {\n\temail: '',\n\tmessage: '',\n};\nconst formEl = document.querySelector('.feedback-form');\n\n\n\n\n\nformEl.addEventListener('input', e => {\n\tconst email = e.currentTarget.elements.email.value.trim();\n\tconst message = e.currentTarget.elements.message.value.trim();\n\tif (email === \"\" & message === \"\") { return localStorage.removeItem('feedback-form-state'); }\n\tformData.email = email;\n\tformData.message = message;\n\tsaveToLs('feedback-form-state', formData);\n\n});\nfunction saveToLs(key, value) {\n\tconst jsonData = JSON.stringify(value);\n\tlocalStorage.setItem(key, jsonData);\n}\n\nconst formLoaded = getFromLs('feedback-form-state', {email: '', message: ''});\ntry {\n\t\tformEl.elements.email.value = formLoaded.email;\n\t\tformEl.elements.message.value = formLoaded.message;\n\tformData = formLoaded;\n\t\n} catch { };\n\nfunction getFromLs(key, defaultValue) {\n\tconst jsonData = localStorage.getItem(key);\n\tif (!jsonData || jsonData === 'null') { return defaultValue; }\n\n\ttry {\n\t\treturn JSON.parse(jsonData);\n\t} catch {\n\t\treturn  defaultValue;\n\t}\n}\n\nformEl.addEventListener('submit', e => {\n\te.preventDefault();\n\tif (formEl.elements.email.value.trim() === '' || formEl.elements.message.value.trim() === '') { alert('Fill please all fields'); return; }\n\telse{console.log(formData)};\n\tlocalStorage.removeItem('feedback-form-state');\n\tformEl.reset();\n\tformData.email = '';\n\tformData.message = '';\n\t\n})\n\n"],"names":["formData","formEl","email","message","saveToLs","key","value","jsonData","formLoaded","getFromLs","defaultValue"],"mappings":"wFAGA,IAAIA,EAAW,CACd,MAAO,GACP,QAAS,EACV,EACA,MAAMC,EAAS,SAAS,cAAc,gBAAgB,EAMtDA,EAAO,iBAAiB,QAAS,GAAK,CACrC,MAAMC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OACvD,GAAID,IAAU,GAAKC,IAAY,GAAM,OAAO,aAAa,WAAW,qBAAqB,EACzFH,EAAS,MAAQE,EACjBF,EAAS,QAAUG,EACnBC,EAAS,sBAAuBJ,CAAQ,CAEzC,CAAC,EACD,SAASI,EAASC,EAAKC,EAAO,CAC7B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACnC,CAEA,MAAMC,EAAaC,EAAU,sBAAuB,CAAC,MAAO,GAAI,QAAS,EAAE,CAAC,EAC5E,GAAI,CACFR,EAAO,SAAS,MAAM,MAAQO,EAAW,MACzCP,EAAO,SAAS,QAAQ,MAAQO,EAAW,QAC5CR,EAAWQ,CAEZ,MAAQ,CACR,CACA,SAASC,EAAUJ,EAAKK,EAAc,CACrC,MAAMH,EAAW,aAAa,QAAQF,CAAG,EACzC,GAAI,CAACE,GAAYA,IAAa,OAAU,OAAOG,EAE/C,GAAI,CACH,OAAO,KAAK,MAAMH,CAAQ,CAC5B,MAAS,CACP,OAAQG,CACR,CACF,CAEAT,EAAO,iBAAiB,SAAU,GAAK,CAEtC,GADA,EAAE,eAAc,EACZA,EAAO,SAAS,MAAM,MAAM,KAAM,IAAK,IAAMA,EAAO,SAAS,QAAQ,MAAM,KAAI,IAAO,GAAI,CAAE,MAAM,wBAAwB,EAAG,MAAS,MACrI,QAAQ,IAAID,CAAQ,EACzB,aAAa,WAAW,qBAAqB,EAC7CC,EAAO,MAAK,EACZD,EAAS,MAAQ,GACjBA,EAAS,QAAU,EAEpB,CAAC"}